{% load static %}
<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta charset="UTF-8">
        <meta name="csrf-token" content="{{ csrf_token }}">
        <link rel="stylesheet" href="{% static 'store/index.css' %}">
        <title>Checkout | Hunterswear</title>
    </head>
    <body>
        {{ cart|json_script:"cart-data"}}
        <script>
            const cartElement = document.getElementById('cart-data');
            window.CART_DATA = cartElement ? JSON.parse(cartElement.textContent) : { items: [] };
        </script>

        <!-- Announcement Bar -->
        <div class="announcement-bar">
            <div class="marquee">
            <div>
                <span>FREE SHIPPING ON ORDERS OVER 2,000 EGP</span>
                <span>FREE SHIPPING ON ORDERS OVER 2,000 EGP</span>
            </div>
            </div>
        </div>

        <!-- Navbar -->
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-left">
                    <a href="/#products" class="nav-item">Shop All</a>
                </div>
                <div class="logo">
                    <div class="logo-container">
                        <a href="/" class="logo-text">Hunters</a>
                    </div>
                </div>
            </div>
        </nav>


        <!-- Checkout Section -->
<section class="checkout-section" style="background: white; padding: 60px 0; min-height: 80vh;">
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
        <div class="checkout-header" style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #333; font-size: 2.5rem; margin-bottom: 10px;">Checkout</h1>
            <p style="color: #666; font-size: 1.1rem;">Complete your order</p>
        </div>

        <div class="checkout-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: start;">
            
            <!-- Order Summary -->
            <div class="order-summary" style="background: #f8f9fa; padding: 30px; border-radius: 12px; border: 1px solid #e9ecef;">
                <h2 style="color: #333; margin-bottom: 25px; font-size: 1.5rem; border-bottom: 3px solid #dee2e6; padding-bottom: 10px; text-transform: uppercase; letter-spacing: -1px;">Order Summary</h2>
                
                <div id="checkoutCartItems" class="checkout-cart-items">
                </div>

                <div id="add-more"></div>
                
                <div class="order-totals" style="border-top: 2px solid #dee2e6; padding-top: 20px; margin-top: 20px;">
                    <div class="subtotal" style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 1.1rem;">
                        <span>Subtotal:</span>
                        <span id="checkoutSubtotal">0 EGP</span>
                    </div>
                    <div class="delivery" style="display: flex; justify-content: space-between; margin-bottom: 15px; color: #666;">
                        <span>Delivery:</span>
                        <span>Free</span>
                    </div>
                    <div class="total" style="display: flex; justify-content: space-between; font-size: 1.3rem; font-weight: bold; color: black; border-top: 1px solid #dee2e6; padding-top: 15px;">
                        <span>Total:</span>
                        <span id="checkoutTotal">0 EGP</span>
                    </div>
                </div>
            </div>

            <!-- Checkout Form -->
            <div class="checkout-form-container" style="background: white; padding: 30px; border-radius: 12px; border: 1px solid #e9ecef; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                <h2 style="color: #333; margin-bottom: 25px; font-size: 1.5rem; border-bottom: 2px solid #333; padding-bottom: 10px;">Delivery Information</h2>
                
                <form id="checkoutForm" method="POST" action="{% url 'place_order' %}" style="display: flex; flex-direction: column; gap: 20px;">
                    <!-- CSRF Token -->
                    <input type="hidden" name="csrfmiddlewaretoken" value="">
                    
                    <!-- Name Fields -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label for="first_name" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">Name *</label>
                            <input type="text" id="first_name" name="first_name" required
                                   style="width: 100%; padding: 12px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s; box-sizing: border-box;">
                        </div>
                    </div>

                    <!-- Phone -->
                    <div class="form-group">
                        <label for="phone" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required placeholder="01XXXXXXXXX"
                               style="width: 100%; padding: 12px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s; box-sizing: border-box;">
                    </div>

                    <!-- Address -->
                    <div class="form-group">
                        <label for="address" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">Full Address *</label>
                        <textarea id="address" name="address" required rows="3" placeholder="Street address, building number, apartment number"
                                  style="width: 100%; padding: 12px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>

                    <!-- Area and Landmark -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label for="area" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">Area *</label>
                            <input type="text" id="area" name="area" placeholder="e.g. Nasr City, Maadi"
                                   style="width: 100%; padding: 12px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s; box-sizing: border-box;">
                        </div>
                        <div class="form-group">
                            <label for="nearest_landmark" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">Nearest Landmark (Optional)</label>
                            <input type="text" id="nearest_landmark" name="nearest_landmark" placeholder="e.g. Cairo Festival Mall"
                                   style="width: 100%; padding: 12px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s; box-sizing: border-box;">
                        </div>
                    </div>

                    <!-- Hidden field for total amount -->
                    <input type="hidden" id="total_amount" name="total_amount" value="0">

                    <!-- Submit Button -->
                    <button type="submit" id="placeOrderBtn" class="checkout-btn">
                        Place Order
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>
    <div class="section-template--20036439671004__wave_new_LbgNdL wave-template--20036439671004__wave_new_LbgNdL" style="background-color:#ffffff;">
        <div class="section-template--20036439671004__wave_new_LbgNdL-settings">
            <div class="wave-item-template--20036439671004__wave_new_LbgNdL">
                <svg class="waves-animated-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none">
                    <defs>
                        <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
                    </defs>
                    <g class="wave-parallax1-template--20036439671004__wave_new_LbgNdL">
                        <use xlink:href="#gentle-wave" x="50" y="3" fill="currentColor"></use>
                    </g>
                    <g class="wave-parallax2-template--20036439671004__wave_new_LbgNdL">
                        <use xlink:href="#gentle-wave" x="50" y="0" fill="currentColor"></use>
                    </g>
                    <g class="wave-parallax3-template--20036439671004__wave_new_LbgNdL">
                        <use xlink:href="#gentle-wave" x="50" y="9" fill="currentColor"></use>
                    </g>
                    <g class="wave-parallax4-template--20036439671004__wave_new_LbgNdL">
                        <use xlink:href="#gentle-wave" x="50" y="6" fill="currentColor"></use>
                    </g>
                </svg>
            </div>
        </div>
    </div>

        </section>
        <footer class="index-footer">
            <div class="index-footer-wrap">
                <div class="footer-upper">
                    <h1 class="footer-title">stay connected</h1>
                    <div class="social-links">
                        <a class="social-link">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M320.3 205C256.8 204.8 205.2 256.2 205 319.7C204.8 383.2 256.2 434.8 319.7 435C383.2 435.2 434.8 383.8 435 320.3C435.2 256.8 383.8 205.2 320.3 205zM319.7 245.4C360.9 245.2 394.4 278.5 394.6 319.7C394.8 360.9 361.5 394.4 320.3 394.6C279.1 394.8 245.6 361.5 245.4 320.3C245.2 279.1 278.5 245.6 319.7 245.4zM413.1 200.3C413.1 185.5 425.1 173.5 439.9 173.5C454.7 173.5 466.7 185.5 466.7 200.3C466.7 215.1 454.7 227.1 439.9 227.1C425.1 227.1 413.1 215.1 413.1 200.3zM542.8 227.5C541.1 191.6 532.9 159.8 506.6 133.6C480.4 107.4 448.6 99.2 412.7 97.4C375.7 95.3 264.8 95.3 227.8 97.4C192 99.1 160.2 107.3 133.9 133.5C107.6 159.7 99.5 191.5 97.7 227.4C95.6 264.4 95.6 375.3 97.7 412.3C99.4 448.2 107.6 480 133.9 506.2C160.2 532.4 191.9 540.6 227.8 542.4C264.8 544.5 375.7 544.5 412.7 542.4C448.6 540.7 480.4 532.5 506.6 506.2C532.8 480 541 448.2 542.8 412.3C544.9 375.3 544.9 264.5 542.8 227.5zM495 452C487.2 471.6 472.1 486.7 452.4 494.6C422.9 506.3 352.9 503.6 320.3 503.6C287.7 503.6 217.6 506.2 188.2 494.6C168.6 486.8 153.5 471.7 145.6 452C133.9 422.5 136.6 352.5 136.6 319.9C136.6 287.3 134 217.2 145.6 187.8C153.4 168.2 168.5 153.1 188.2 145.2C217.7 133.5 287.7 136.2 320.3 136.2C352.9 136.2 423 133.6 452.4 145.2C472 153 487.1 168.1 495 187.8C506.7 217.3 504 287.3 504 319.9C504 352.5 506.7 422.6 495 452z"/></svg>
                        </a>
                        <a class="social-link">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M476.9 161.1C435 119.1 379.2 96 319.9 96C197.5 96 97.9 195.6 97.9 318C97.9 357.1 108.1 395.3 127.5 429L96 544L213.7 513.1C246.1 530.8 282.6 540.1 319.8 540.1L319.9 540.1C442.2 540.1 544 440.5 544 318.1C544 258.8 518.8 203.1 476.9 161.1zM319.9 502.7C286.7 502.7 254.2 493.8 225.9 477L219.2 473L149.4 491.3L168 423.2L163.6 416.2C145.1 386.8 135.4 352.9 135.4 318C135.4 216.3 218.2 133.5 320 133.5C369.3 133.5 415.6 152.7 450.4 187.6C485.2 222.5 506.6 268.8 506.5 318.1C506.5 419.9 421.6 502.7 319.9 502.7zM421.1 364.5C415.6 361.7 388.3 348.3 383.2 346.5C378.1 344.6 374.4 343.7 370.7 349.3C367 354.9 356.4 367.3 353.1 371.1C349.9 374.8 346.6 375.3 341.1 372.5C308.5 356.2 287.1 343.4 265.6 306.5C259.9 296.7 271.3 297.4 281.9 276.2C283.7 272.5 282.8 269.3 281.4 266.5C280 263.7 268.9 236.4 264.3 225.3C259.8 214.5 255.2 216 251.8 215.8C248.6 215.6 244.9 215.6 241.2 215.6C237.5 215.6 231.5 217 226.4 222.5C221.3 228.1 207 241.5 207 268.8C207 296.1 226.9 322.5 229.6 326.2C232.4 329.9 268.7 385.9 324.4 410C359.6 425.2 373.4 426.5 391 423.9C401.7 422.3 423.8 410.5 428.4 397.5C433 384.5 433 373.4 431.6 371.1C430.3 368.6 426.6 367.2 421.1 364.5z"/></svg>
                        </a>
                    </div>
                </div>
                <span class="footer-separator"></span>
                <div class="rights">All Copyrights Reserved to Hunters © 2025</div>
            </div>
        </footer>
    </body>
    <script src="{% static 'store/index.js' %}"></script>
</html>